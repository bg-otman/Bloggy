{% extends "layout.html" %}

{% block title %}
	{{ post.title }}
{% endblock title %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <article class="bg-white dark:bg-gray-900 rounded-lg shadow-sm ring-1 ring-gray-100 dark:ring-gray-800 overflow-hidden">
    <header class="px-6 pt-6 pb-4">
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-extrabold leading-tight text-gray-900 dark:text-white">
        {{ post.title }}
      </h1>

      <div class="mt-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div class="flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400">
          <time datetime="{{ post.dateTime|date:'c' }}" class="text-sm">
            {{ post.dateTime }}
          </time>
          <span class="text-sm text-gray-400">â€¢</span>
          <span class="font-medium text-gray-700 dark:text-gray-200">By {{ post.author.username }}</span>
        </div>

        {% if user.is_authenticated and user.username == post.author.username %}
          <div class="flex-shrink-0">
            <a href="{% url 'posts:update_post' slug=post.slug %}"
               class="update-btn inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-sm font-medium text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500">
              Edit
            </a>
          </div>
        {% endif %}
      </div>
    </header>

    {% if post.Banner %}
      <figure class="w-full">
        <img src="{{ post.Banner.url }}" alt="{{ post.title }} img"
             class="w-full h-64 sm:h-80 md:h-96 object-cover block" />
      </figure>
    {% endif %}

    <div class="px-6 pb-8">
      <div class="prose max-w-none dark:prose-invert text-gray-700 dark:text-gray-200 leading-relaxed text-base sm:text-lg">
        {{ post.body|safe }}
      </div>
    </div>
  </article>
</div>
{% endblock content %}
